<div class="api-detail-container">
  <!-- Left Sidebar -->
  <nav class="nav-sidebar">
    <ul class="nav-list">
      <li *ngFor="let tab of tabs" [class.active]="activeTab === tab.id" (click)="setActiveTab(tab.id)">
        {{ tab.title }}
      </li>
    </ul>
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <div class="content-wrapper" [ngSwitch]="activeTab">
      <div *ngSwitchCase="'overview'" class="content-section">
        <h2>Overview</h2>
        <div [innerHTML]="getTabContent('overview')"></div>
      </div>

      <div *ngSwitchCase="'documentation'" class="content-section">
        <h2>Documentation</h2>
        <div [innerHTML]="getTabContent('documentation')"></div>
        <!-- Swagger UI section -->
        <div class="swagger-section">
          <h3>API Explorer</h3>
          <div #swaggerContainer class="swagger-container"></div>
        </div>
      </div>

      <div *ngSwitchCase="'sandbox'" class="content-section">
        <h2>Sandbox</h2>
        <div class="banner">
          <h3> Welcome to your test environment</h3>
          <p> A secure environment for experimenting, creating, 
            and testing innovative solutions with cutting-edge web technologies.<br>
          Leverage our powerful APIs to validate your use cases or develop new and engaging experiences for your customers.</p>
          <a [href]="api?.sandbox?.sandboxUrl">
            <button type="sandboxButton">ACCESS THE SANDBOX</button>
          </a>
        </div>
        </div>

      <div *ngSwitchCase="'term'" class="content-section">
        <h2>Terms and Conditions</h2>
        <div [innerHTML]="getTabContent('term')"></div>
      </div>

      <div *ngSwitchCase="'contact'" class="content-section">
        <h2>Contact Us</h2>
        <div>
          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" id="name" formControlName="name">
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" formControlName="email">
            </div>
            <div class="form-group">
              <label for="company">Company</label>
              <input type="text" id="company" formControlName="company">
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" formControlName="message"></textarea>
            </div>
            <div class="form-group">
              <label for="api">API</label>
              <input id="api" formControlName="api" class="form-control" readonly>
            </div>    
            <button type="submit" [disabled]="!contactForm.valid">Submit</button>
          </form>
          </div>
      </div>
    </div>
  </main>

  <!-- Table of Contents -->
  <aside class="table-of-contents" *ngIf="showTableOfContents">
    <h3>Table of Contents</h3>
    <ul>
      <li *ngFor="let item of tableOfContents" (click)="scrollToSection(item.target)">
        {{ item.title }}
      </li>
    </ul>
  </aside>
</div>